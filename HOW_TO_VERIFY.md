# å¦‚ä½•éªŒè¯JobTrackå®Œå…¨è‡ªåŠ¨åŒ–åŠŸèƒ½

## ğŸ¯ éªŒè¯ç›®æ ‡

éªŒè¯ç”¨æˆ·è¿æ¥Gmailä¸€æ¬¡åï¼Œç³»ç»Ÿæ˜¯å¦èƒ½å¤Ÿå®Œå…¨è‡ªåŠ¨åŒ–è¿è¡Œï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨æ“ä½œã€‚

## ğŸš€ å¿«é€ŸéªŒè¯æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šç®€å•éªŒè¯ï¼ˆæ¨èï¼‰

```bash
node simple-verify.js
```

**é¢„æœŸç»“æœï¼š**
- âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
- âœ… ç”¨æˆ·è®¤è¯æˆåŠŸ
- âœ… è‡ªåŠ¨æ‰«æå¯åŠ¨æˆåŠŸ
- âœ… è‡ªåŠ¨æ‰«ææ­£åœ¨è¿è¡Œ
- âœ… è®¤è¯çŠ¶æ€æ­£å¸¸
- æˆåŠŸç‡: 80%+

### æ–¹æ³•äºŒï¼šå®Œæ•´éªŒè¯

```bash
node verify-automation.js
```

**é¢„æœŸç»“æœï¼š**
- æ‰€æœ‰æµ‹è¯•é€šè¿‡
- æˆåŠŸç‡: 90%+

## ğŸ“‹ åˆ†æ­¥éªŒè¯æŒ‡å—

### æ­¥éª¤1ï¼šæ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€

```bash
# æ£€æŸ¥åŸºæœ¬å¥åº·çŠ¶æ€
curl http://localhost:3000/health

# é¢„æœŸç»“æœ
{
  "status": "ok",
  "timestamp": "2025-01-11T...",
  "sessions": 1,
  "environment": "production"
}
```

### æ­¥éª¤2ï¼šæµ‹è¯•ç”¨æˆ·è®¤è¯

```bash
# æµ‹è¯•æ¨¡å¼ç™»å½•
curl -X POST http://localhost:3000/auth/test-login

# é¢„æœŸç»“æœ
{
  "success": true,
  "sessionId": "test-xxxxx",
  "message": "Test mode login successful",
  "testMode": true
}
```

### æ­¥éª¤3ï¼šæµ‹è¯•è‡ªåŠ¨æ‰«æ

```bash
# ä½¿ç”¨ä¸Šä¸€æ­¥è·å¾—çš„sessionId
SESSION_ID="test-xxxxx"

# å¯åŠ¨è‡ªåŠ¨æ‰«æ
curl -X POST http://localhost:3000/api/gmail/auto-scan/start \
  -H "x-session-id: $SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"query": "in:anywhere newer_than:2d", "maxResults": 10}'

# é¢„æœŸç»“æœ
{
  "success": true,
  "running": true
}
```

### æ­¥éª¤4ï¼šæ£€æŸ¥æ‰«æçŠ¶æ€

```bash
# æ£€æŸ¥æ‰«æçŠ¶æ€
curl -H "x-session-id: $SESSION_ID" \
  http://localhost:3000/api/gmail/auto-scan/status

# é¢„æœŸç»“æœ
{
  "success": true,
  "running": true,
  "query": "in:anywhere newer_than:2d",
  "maxResults": 10,
  "intervalMs": 300000
}
```

### æ­¥éª¤5ï¼šæµ‹è¯•ç«‹å³æ‰«æ

```bash
# æ‰§è¡Œç«‹å³æ‰«æ
curl -X POST http://localhost:3000/api/gmail/auto-scan/run-now \
  -H "x-session-id: $SESSION_ID" \
  -H "Content-Type: application/json" \
  -d '{"query": "in:anywhere newer_than:1d", "maxResults": 5}'

# é¢„æœŸç»“æœ
{
  "success": true,
  "messagesFound": 0,
  "processed": 0,
  "results": []
}
```

## ğŸ”§ éªŒè¯ç¯å¢ƒå‡†å¤‡

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
npm run start:autoscan
```

### 2. æ£€æŸ¥ç¯å¢ƒé…ç½®

ç¡®ä¿ä»¥ä¸‹ç¯å¢ƒå˜é‡å·²é…ç½®ï¼š

```bash
# æ£€æŸ¥ç¯å¢ƒæ–‡ä»¶
cat backend/.env
```

**å¿…éœ€é…ç½®ï¼š**
```env
GOOGLE_CLIENT_ID=your_client_id
GOOGLE_CLIENT_SECRET=your_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback
```

### 3. æ£€æŸ¥ä¾èµ–å®‰è£…

```bash
cd backend
npm install
```

## ğŸ“Š éªŒè¯ç»“æœè§£è¯»

### âœ… æˆåŠŸæŒ‡æ ‡

1. **æœåŠ¡å™¨è¿è¡Œæ­£å¸¸**
   - å¥åº·æ£€æŸ¥è¿”å›200çŠ¶æ€
   - å“åº”æ—¶é—´ < 1ç§’

2. **ç”¨æˆ·è®¤è¯æˆåŠŸ**
   - æµ‹è¯•æ¨¡å¼ç™»å½•æˆåŠŸ
   - ä¼šè¯IDæœ‰æ•ˆ
   - è®¤è¯çŠ¶æ€æ­£ç¡®

3. **è‡ªåŠ¨æ‰«æåŠŸèƒ½**
   - æ‰«æå¯åŠ¨æˆåŠŸ
   - çŠ¶æ€æ˜¾ç¤ºè¿è¡Œä¸­
   - æ‰«æé—´éš”æ­£ç¡®ï¼ˆ5åˆ†é’Ÿï¼‰

4. **è®¤è¯ç³»ç»Ÿæ­£å¸¸**
   - ä¼šè¯è®¤è¯æœ‰æ•ˆ
   - çŠ¶æ€æ£€æŸ¥æ­£å¸¸

### âŒ å¤±è´¥æŒ‡æ ‡

1. **æœåŠ¡å™¨æ— æ³•è®¿é—®**
   - è¿æ¥è¢«æ‹’ç»
   - è¶…æ—¶é”™è¯¯
   - ç«¯å£è¢«å ç”¨

2. **è®¤è¯å¤±è´¥**
   - è¿”å›401é”™è¯¯
   - ä¼šè¯æ— æ•ˆ
   - OAuthé…ç½®é”™è¯¯

3. **æ‰«æåŠŸèƒ½å¼‚å¸¸**
   - æ‰«æå¯åŠ¨å¤±è´¥
   - çŠ¶æ€æ˜¾ç¤ºåœæ­¢
   - APIè°ƒç”¨é”™è¯¯

## ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼šæœåŠ¡å™¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶ï¼š** è¿æ¥è¢«æ‹’ç»æˆ–è¶…æ—¶

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep 3000

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep node

# é‡å¯æœåŠ¡
pkill -f "node.*server.js"
cd backend && npm run start:autoscan
```

### é—®é¢˜2ï¼šè®¤è¯å¤±è´¥

**ç—‡çŠ¶ï¼š** è¿”å›401é”™è¯¯æˆ–è®¤è¯å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥OAuthé…ç½®
cat backend/.env | grep GOOGLE

# é‡æ–°é…ç½®OAuth
# å‚è€ƒ: GOOGLE_OAUTH_SETUP.md

# æ¸…ç†ä¼šè¯æ•°æ®
rm backend/data/sessions.json
```

### é—®é¢˜3ï¼šæ‰«æåŠŸèƒ½å¼‚å¸¸

**ç—‡çŠ¶ï¼š** æ‰«æå¯åŠ¨å¤±è´¥æˆ–çŠ¶æ€å¼‚å¸¸

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥æ‰«æçŠ¶æ€
curl -H "x-session-id: your-session-id" \
  http://localhost:3000/api/gmail/auto-scan/status

# é‡å¯æ‰«æ
curl -X POST http://localhost:3000/api/gmail/auto-scan/stop \
  -H "x-session-id: your-session-id"
curl -X POST http://localhost:3000/api/gmail/auto-scan/start \
  -H "x-session-id: your-session-id"
```

## ğŸ¯ éªŒè¯æˆåŠŸæ ‡å‡†

### åŸºæœ¬éªŒè¯é€šè¿‡æ ‡å‡†ï¼š

1. âœ… **æœåŠ¡å™¨ç¨³å®šè¿è¡Œ**
   - å¥åº·æ£€æŸ¥é€šè¿‡
   - æ— å´©æºƒæˆ–é”™è¯¯

2. âœ… **ç”¨æˆ·è®¤è¯æˆåŠŸ**
   - æµ‹è¯•æ¨¡å¼ç™»å½•æˆåŠŸ
   - ä¼šè¯ç®¡ç†æ­£å¸¸

3. âœ… **è‡ªåŠ¨æ‰«æåŠŸèƒ½**
   - æ‰«æå¯åŠ¨æˆåŠŸ
   - çŠ¶æ€ç›‘æ§æ­£å¸¸
   - æ‰«æé—´éš”æ­£ç¡®

4. âœ… **è®¤è¯ç³»ç»Ÿå®Œå–„**
   - ä¼šè¯è®¤è¯æœ‰æ•ˆ
   - çŠ¶æ€æ£€æŸ¥æ­£å¸¸

### å®Œå…¨è‡ªåŠ¨åŒ–éªŒè¯é€šè¿‡æ ‡å‡†ï¼š

1. âœ… **è‡ªåŠ¨ç®¡ç†å™¨æ­£å¸¸**
   - è‡ªåŠ¨å¯åŠ¨åŠŸèƒ½å¯ç”¨
   - å¤šä¼šè¯ç®¡ç†æ­£å¸¸

2. âœ… **Tokenè‡ªåŠ¨åˆ·æ–°**
   - è‡ªåŠ¨åˆ·æ–°æœºåˆ¶æ­£å¸¸
   - æ— éœ€é‡æ–°ç™»å½•

3. âœ… **åå°æœåŠ¡è¿è¡Œ**
   - åå°æŒç»­è¿è¡Œ
   - ç³»ç»Ÿé‡å¯è‡ªåŠ¨æ¢å¤

4. âœ… **é”™è¯¯è‡ªåŠ¨æ¢å¤**
   - é”™è¯¯æ¢å¤æ­£å¸¸
   - ç³»ç»Ÿç¨³å®šæ€§è‰¯å¥½

## ğŸ‰ éªŒè¯æˆåŠŸåçš„ä½“éªŒ

å½“éªŒè¯é€šè¿‡åï¼Œç”¨æˆ·å°†è·å¾—ä»¥ä¸‹å®Œå…¨è‡ªåŠ¨åŒ–ä½“éªŒï¼š

### åŸºæœ¬è‡ªåŠ¨åŒ–ä½“éªŒï¼š

1. **ç”¨æˆ·è¿æ¥Gmailä¸€æ¬¡**
   - è®¿é—®å‰ç«¯ç•Œé¢
   - ç‚¹å‡»"Sign in with Google"
   - å®ŒæˆOAuthæˆæƒ

2. **ç³»ç»Ÿè‡ªåŠ¨å¼€å§‹å·¥ä½œ**
   - è‡ªåŠ¨å¯åŠ¨æ‰«æ
   - æ¯5åˆ†é’Ÿè‡ªåŠ¨æ‰«æ
   - è‡ªåŠ¨åˆ†ç±»é‚®ä»¶

3. **æŒç»­è‡ªåŠ¨åŒ–è¿è¡Œ**
   - åå°æŒç»­è¿è¡Œ
   - è‡ªåŠ¨é”™è¯¯æ¢å¤
   - æ— éœ€äººå·¥å¹²é¢„

### å®Œå…¨è‡ªåŠ¨åŒ–ä½“éªŒï¼š

1. **ä¸€æ¬¡è¿æ¥ï¼Œæ°¸ä¹…ä½¿ç”¨**
   - ç”¨æˆ·åªéœ€è¿æ¥Gmailä¸€æ¬¡
   - ç³»ç»Ÿè‡ªåŠ¨å¼€å§‹æ‰«æ
   - æ— éœ€ä»»ä½•æ‰‹åŠ¨æ“ä½œ

2. **è‡ªåŠ¨ç»´æŠ¤**
   - è‡ªåŠ¨tokenåˆ·æ–°
   - è‡ªåŠ¨é”™è¯¯æ¢å¤
   - åå°æŒç»­è¿è¡Œ

3. **ç³»ç»Ÿé‡å¯æ¢å¤**
   - ç³»ç»Ÿé‡å¯åè‡ªåŠ¨æ¢å¤
   - æ‰€æœ‰ä¼šè¯è‡ªåŠ¨é‡æ–°å¯åŠ¨
   - é›¶äººå·¥å¹²é¢„

4. **å¤šç”¨æˆ·æ”¯æŒ**
   - æ”¯æŒå¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨
   - ç‹¬ç«‹çš„ä¼šè¯ç®¡ç†
   - å¹¶å‘æ‰«æå¤„ç†

## ğŸ“ éªŒè¯æ¸…å•

### åŸºæœ¬åŠŸèƒ½éªŒè¯ï¼š

- [ ] æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
- [ ] ç”¨æˆ·è®¤è¯æˆåŠŸ
- [ ] è‡ªåŠ¨æ‰«æå¯åŠ¨
- [ ] æ‰«æçŠ¶æ€æ­£å¸¸
- [ ] è®¤è¯çŠ¶æ€æ­£å¸¸

### å®Œå…¨è‡ªåŠ¨åŒ–éªŒè¯ï¼š

- [ ] è‡ªåŠ¨ç®¡ç†å™¨æ­£å¸¸
- [ ] Tokenè‡ªåŠ¨åˆ·æ–°
- [ ] åå°æœåŠ¡è¿è¡Œ
- [ ] é”™è¯¯è‡ªåŠ¨æ¢å¤
- [ ] ç³»ç»Ÿé‡å¯æ¢å¤
- [ ] å¤šç”¨æˆ·æ”¯æŒ

## ğŸ¯ æœ€ç»ˆç›®æ ‡

**éªŒè¯æˆåŠŸæ ‡å‡†ï¼šç”¨æˆ·è¿æ¥Gmailä¸€æ¬¡åï¼Œç³»ç»Ÿå°†å®Œå…¨è‡ªåŠ¨åŒ–è¿è¡Œï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨æ“ä½œï¼**

- âœ… ä¸€æ¬¡è¿æ¥ï¼Œæ°¸ä¹…ä½¿ç”¨
- âœ… è‡ªåŠ¨tokenåˆ·æ–°
- âœ… è‡ªåŠ¨å¯åŠ¨æ‰«æ
- âœ… åå°æŒç»­è¿è¡Œ
- âœ… ç³»ç»Ÿé‡å¯è‡ªåŠ¨æ¢å¤
- âœ… é”™è¯¯è‡ªåŠ¨æ¢å¤
- âœ… é›¶äººå·¥å¹²é¢„

**ğŸ‰ å½“æ‰€æœ‰éªŒè¯é€šè¿‡åï¼ŒJobTrackå°†æä¾›å®Œå…¨è‡ªåŠ¨åŒ–çš„Gmailé‚®ä»¶åˆ†ç±»ä½“éªŒï¼**
