# JobTrack è‡ªåŠ¨æ‰«æåŠŸèƒ½æŒ‡å—

## æ¦‚è¿°

JobTrack ç°åœ¨æ”¯æŒå¼ºå¤§çš„è‡ªåŠ¨æ‰«æåŠŸèƒ½ï¼Œå¯ä»¥å®šæœŸæ‰«æ Gmail é‚®ä»¶å¹¶è‡ªåŠ¨è¿›è¡Œåˆ†ç±»æ ‡è®°ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ è‡ªåŠ¨æ‰«æ
- **å®šæ—¶æ‰«æ**: æ¯5åˆ†é’Ÿè‡ªåŠ¨æ‰«ææ–°é‚®ä»¶
- **æ™ºèƒ½åˆ†ç±»**: ä½¿ç”¨AIå’Œè§„åˆ™å¼•æ“è‡ªåŠ¨åˆ†ç±»é‚®ä»¶
- **é”™è¯¯æ¢å¤**: è‡ªåŠ¨å¤„ç†APIé”™è¯¯å’Œç½‘ç»œé—®é¢˜
- **çŠ¶æ€ç›‘æ§**: å®æ—¶ç›‘æ§æ‰«æçŠ¶æ€å’Œå†å²

### âš¡ ç«‹å³æ‰«æ
- **æ‰‹åŠ¨è§¦å‘**: éšæ—¶æ‰‹åŠ¨æ‰§è¡Œæ‰«æ
- **å®æ—¶ç»“æœ**: ç«‹å³æŸ¥çœ‹æ‰«æç»“æœ
- **çµæ´»é…ç½®**: è‡ªå®šä¹‰æŸ¥è¯¢æ¡ä»¶å’Œæ‰«ææ•°é‡

### ğŸ“Š çŠ¶æ€ç›‘æ§
- **è¿è¡ŒçŠ¶æ€**: å®æ—¶æ˜¾ç¤ºè‡ªåŠ¨æ‰«æçŠ¶æ€
- **æ‰«æå†å²**: æŸ¥çœ‹æœ€è¿‘çš„æ‰«æè®°å½•
- **é”™è¯¯ç»Ÿè®¡**: ç›‘æ§é”™è¯¯æ¬¡æ•°å’Œæ¢å¤æƒ…å†µ
- **æ€§èƒ½æŒ‡æ ‡**: æ‰«æè€—æ—¶å’Œå¤„ç†æ•°é‡

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
# ä½¿ç”¨è‡ªåŠ¨æ‰«æåŠŸèƒ½å¯åŠ¨
cd backend
npm run start:autoscan

# æˆ–è€…å¼€å‘æ¨¡å¼
npm run dev:autoscan
```

### 2. å¯åŠ¨å‰ç«¯ç•Œé¢

```bash
cd frontend
npm run dev
```

### 3. æµ‹è¯•è‡ªåŠ¨æ‰«æåŠŸèƒ½

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
node test-autoscan.js
```

## API ç«¯ç‚¹

### è‡ªåŠ¨æ‰«ææ§åˆ¶

#### å¯åŠ¨è‡ªåŠ¨æ‰«æ
```http
POST /api/gmail/auto-scan/start
Content-Type: application/json
x-session-id: your-session-id

{
  "query": "in:anywhere newer_than:2d",
  "maxResults": 20
}
```

#### åœæ­¢è‡ªåŠ¨æ‰«æ
```http
POST /api/gmail/auto-scan/stop
x-session-id: your-session-id
```

#### è·å–çŠ¶æ€
```http
GET /api/gmail/auto-scan/status
x-session-id: your-session-id
```

#### ç«‹å³æ‰«æ
```http
POST /api/gmail/auto-scan/run-now
Content-Type: application/json
x-session-id: your-session-id

{
  "query": "in:anywhere newer_than:1d",
  "maxResults": 10
}
```

#### è·å–æ‰«æå†å²
```http
GET /api/gmail/auto-scan/history
x-session-id: your-session-id
```

### å¥åº·æ£€æŸ¥

#### åŸºæœ¬å¥åº·æ£€æŸ¥
```http
GET /health
```

#### è¯¦ç»†å¥åº·æ£€æŸ¥
```http
GET /health/detailed
```

## é…ç½®é€‰é¡¹

### è‡ªåŠ¨æ‰«æé…ç½®

```javascript
const autoScan = new AutoScanService({
  intervalMs: 300000,        // æ‰«æé—´éš” (5åˆ†é’Ÿ)
  resolveSession: resolveSession,
  maxRetries: 3,            // æœ€å¤§é‡è¯•æ¬¡æ•°
});
```

### æ‰«æå‚æ•°

- **query**: Gmailæœç´¢æŸ¥è¯¢ (é»˜è®¤: `in:anywhere newer_than:2d`)
- **maxResults**: æ¯æ¬¡æ‰«æçš„æœ€å¤§é‚®ä»¶æ•°é‡ (é»˜è®¤: 20)
- **intervalMs**: æ‰«æé—´éš”æ¯«ç§’æ•° (é»˜è®¤: 300000 = 5åˆ†é’Ÿ)

## é”™è¯¯å¤„ç†

### è‡ªåŠ¨é”™è¯¯æ¢å¤
- ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•
- APIé™æµè‡ªåŠ¨ç­‰å¾…
- è®¤è¯å¤±æ•ˆè‡ªåŠ¨åœæ­¢
- é”™è¯¯æ¬¡æ•°è¶…é™è‡ªåŠ¨åœæ­¢

### é”™è¯¯ç›‘æ§
- å®æ—¶é”™è¯¯è®¡æ•°
- é”™è¯¯å†å²è®°å½•
- è‡ªåŠ¨åœæ­¢æœºåˆ¶
- è¯¦ç»†é”™è¯¯æ—¥å¿—

## å‰ç«¯ç•Œé¢

### è‡ªåŠ¨æ‰«æDashboard
- å¯åŠ¨/åœæ­¢è‡ªåŠ¨æ‰«æ
- ç«‹å³æ‰§è¡Œæ‰«æ
- å®æ—¶çŠ¶æ€æ˜¾ç¤º
- æ‰«æå†å²æŸ¥çœ‹

### çŠ¶æ€æŒ‡ç¤ºå™¨
- ğŸŸ¢ è¿è¡Œä¸­
- ğŸ”´ å·²åœæ­¢
- âš ï¸ é”™è¯¯çŠ¶æ€
- ğŸ“Š æ€§èƒ½æŒ‡æ ‡

## éƒ¨ç½²æŒ‡å—

### æœ¬åœ°å¼€å‘
```bash
# å¯åŠ¨å®Œæ•´æµ‹è¯•ç¯å¢ƒ
./start-autoscan-test.sh  # Linux/Mac
start-autoscan-test.bat    # Windows
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨PM2ç®¡ç†è¿›ç¨‹
pm2 start backend/server.js --name jobtrack-backend
pm2 start backend/autoscan.js --name jobtrack-autoscan
```

### Dockeréƒ¨ç½²
```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d
```

## ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—ç›‘æ§
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f backend/logs/autoscan.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "ERROR" backend/logs/autoscan.log
```

### æ€§èƒ½ç›‘æ§
- æ‰«æé¢‘ç‡ç›‘æ§
- å¤„ç†æ—¶é—´ç»Ÿè®¡
- é”™è¯¯ç‡åˆ†æ
- èµ„æºä½¿ç”¨æƒ…å†µ

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜
1. **è‡ªåŠ¨æ‰«æä¸å¯åŠ¨**
   - æ£€æŸ¥è®¤è¯çŠ¶æ€
   - éªŒè¯Gmail APIæƒé™
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—

2. **æ‰«æç»“æœä¸å‡†ç¡®**
   - è°ƒæ•´åˆ†ç±»è§„åˆ™
   - æ›´æ–°AIæ¨¡å‹
   - æ£€æŸ¥é‚®ä»¶å†…å®¹

3. **æ€§èƒ½é—®é¢˜**
   - è°ƒæ•´æ‰«æé—´éš”
   - å‡å°‘æ‰«ææ•°é‡
   - ä¼˜åŒ–æŸ¥è¯¢æ¡ä»¶

## æœ€ä½³å®è·µ

### æ‰«æé…ç½®
- åˆç†è®¾ç½®æ‰«æé—´éš” (å»ºè®®5-10åˆ†é’Ÿ)
- æ§åˆ¶æ¯æ¬¡æ‰«ææ•°é‡ (å»ºè®®10-50å°)
- ä½¿ç”¨ç²¾ç¡®çš„æŸ¥è¯¢æ¡ä»¶
- å®šæœŸæ£€æŸ¥æ‰«ææ•ˆæœ

### é”™è¯¯å¤„ç†
- ç›‘æ§é”™è¯¯æ—¥å¿—
- è®¾ç½®å‘Šè­¦æœºåˆ¶
- å®šæœŸé‡å¯æœåŠ¡
- å¤‡ä»½é‡è¦æ•°æ®

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ç¼“å­˜æœºåˆ¶
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- åˆç†åˆ†é…èµ„æº
- ç›‘æ§ç³»ç»Ÿè´Ÿè½½

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- ğŸ“– [å®Œæ•´æ–‡æ¡£](README.md)
- ğŸ› [é—®é¢˜æŠ¥å‘Š](https://github.com/your-repo/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/your-repo/discussions)

---

**æ³¨æ„**: è‡ªåŠ¨æ‰«æåŠŸèƒ½éœ€è¦æœ‰æ•ˆçš„Gmail APIè®¤è¯å’Œé€‚å½“çš„æƒé™è®¾ç½®ã€‚

